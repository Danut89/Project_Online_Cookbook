{% extends "base.html" %}
{% block content %}

<section class="container py-5">
  <h2 class="mb-5 fw-bold text-center text-primary display-6">👤 My Profile</h2>

  <!-- 🙌 Welcome Summary -->
  <div class="bg-white shadow-sm rounded-4 p-4 mb-5 text-center">
    <h4 class="fw-bold mb-2">👋 Welcome, Food Lover!</h4>
    <p class="mb-0">You’ve added <strong>{{ my_recipes|length }}</strong> recipe{{ 's' if my_recipes|length != 1 else '' }} and liked <strong>{{ liked_recipes|length }}</strong>.</p>
  </div>

  <!-- 🧭 Tabs: My Recipes / Liked -->
  <ul class="nav nav-pills justify-content-center mb-4" id="profileTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active rounded-pill px-4 py-2 me-2" id="my-tab" data-bs-toggle="pill" data-bs-target="#my-recipes" type="button" role="tab">
        📜 My Recipes
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link rounded-pill px-4 py-2" id="liked-tab" data-bs-toggle="pill" data-bs-target="#liked-recipes" type="button" role="tab">
        ❤️ Favorite Recipes
      </button>
    </li>
  </ul>

  <div class="tab-content" id="profileTabContent">

    <!-- 📜 My Recipes -->
    <div class="tab-pane fade show active" id="my-recipes" role="tabpanel">
      <div class="card shadow-sm border-0 rounded-4 mb-5">
        <div class="card-body">
          {% if my_recipes %}
            <ul class="list-group list-group-flush">
              {% for recipe in my_recipes %}
                <li class="list-group-item d-flex justify-content-between align-items-center py-3">
                  <a href="{{ url_for('main.view_recipe', recipe_id=recipe.id) }}"
                     class="fw-semibold text-decoration-none text-dark">
                    🍽 {{ recipe.title }}
                  </a>
                  <span class="badge bg-warning text-dark rounded-pill px-3 py-2">{{ recipe.difficulty }}</span>
                </li>
              {% endfor %}
            </ul>
          {% else %}
            <p class="text-muted fst-italic text-center">You haven't added any recipes yet.</p>
          {% endif %}
        </div>
      </div>
    </div>

    <!-- ❤️ Liked Recipes -->
    <div class="tab-pane fade" id="liked-recipes" role="tabpanel">
      <div class="card shadow-sm border-0 rounded-4">
        <div class="card-body">
          {% if liked_recipes %}
            <ul class="list-group list-group-flush">
              {% for recipe in liked_recipes %}
                <li class="list-group-item d-flex justify-content-between align-items-center py-3">
                  <a href="{{ url_for('main.view_recipe', recipe_id=recipe.id) }}"
                     class="fw-semibold text-decoration-none text-dark">
                    🌟 {{ recipe.title }}
                  </a>
                  <span class="badge bg-info text-dark rounded-pill px-3 py-2">{{ recipe.difficulty }}</span>
                </li>
              {% endfor %}
            </ul>
          {% else %}
            <p class="text-muted fst-italic text-center">You haven't liked any recipes yet.</p>
          {% endif %}
        </div>
      </div>
    </div>

  </div>
</section>
{% endblock %}
